<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GrowArray (goblint-cil.GoblintCil.GrowArray)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">goblint-cil</a> &#x00BB; <a href="../index.html">GoblintCil</a> &#x00BB; GrowArray</nav><header class="odoc-preamble"><h1>Module <code><span>GoblintCil.GrowArray</span></code></h1><p>Array operations.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>The type of growable arrays</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fill" class="anchored"><a href="#type-fill" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a fill</span></span><span> = </span></code><table><tr id="type-fill.Elem" class="anchored"><td class="def variant constructor"><a href="#type-fill.Elem" class="anchor"></a><code><span>| </span><span><span class="constructor">Elem</span> <span class="keyword">of</span> <span class="type-var">'a</span></span></code></td></tr><tr id="type-fill.Susp" class="anchored"><td class="def variant constructor"><a href="#type-fill.Susp" class="anchor"></a><code><span>| </span><span><span class="constructor">Susp</span> <span class="keyword">of</span> <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></td></tr></table></div><div class="spec-doc"><p>The default value to a new element of the growable array</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-fill">fill</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>GrowArray.make n x</code> returns a fresh growable array of size at least <code>n</code> with default value specified by <code>x</code>.</p><p>Raise <code>Invalid_argument</code> if <code>n &lt; 0</code> or <code>n &gt; Sys.max_array_length</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-num_alloc_index" class="anchored"><a href="#val-num_alloc_index" class="anchor"></a><code><span><span class="keyword">val</span> num_alloc_index : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>GrowArray.num_alloc_index a</code> returns the number of allocated entries in the array *</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_init_index" class="anchored"><a href="#val-max_init_index" class="anchor"></a><code><span><span class="keyword">val</span> max_init_index : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>GrowArray.max_init_index a</code> returns the maximum index to which has been written.</p><p>Returns -1 if no writes have been made.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reset_max_init_index" class="anchored"><a href="#val-reset_max_init_index" class="anchor"></a><code><span><span class="keyword">val</span> reset_max_init_index : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>GrowArray.reset_init a</code> resets the max_init_index. You should probably use <code>GrowArray.clear a</code> instead if you also want to delete the contents.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getg" class="anchored"><a href="#val-getg" class="anchor"></a><code><span><span class="keyword">val</span> getg : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>GrowArray.getg a n</code> returns the element number <code>n</code> of array <code>a</code>. The first element has number 0. The last element has number <code>GrowArray.length a - 1</code>.</p><p>If <code>n</code> is outside the range 0 to <code>(GrowArray.max_init_index a)</code>, then the array grows to at least <code>n</code> and yields the default value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setg" class="anchored"><a href="#val-setg" class="anchor"></a><code><span><span class="keyword">val</span> setg : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>GrowArray.setg a n x</code> modifies array <code>a</code> in place, replacing element number <code>n</code> with <code>x</code>.</p><p>If <code>n</code> is outside the range 0 to <code>(GrowArray.max_init_index a)</code>, then the array grows to at least <code>n</code> and yields the default value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>GrowArray.get a n</code> returns the element number <code>n</code> of grow array <code>a</code>.</p><p>Raise <code>Invalid_argument &quot;Array.get&quot;</code> if <code>n</code> is outside the range of the underlying array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>GrowArray.set a n x</code> modifies grow array <code>a</code> in place, replacing element number <code>n</code> with <code>x</code>.</p><p>Raise <code>Invalid_argument &quot;Array.set&quot;</code> if <code>n</code> is outside the range of the underlying array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>GrowArray.clear a</code> clears the contents of the array and sets max_init_index to -1. Suspension thunks will be rerun to regenerate the initial values of the array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>GrowArray.copy a</code> returns a copy of <code>a</code>, that is, a fresh array containing the same elements as <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-deep_copy" class="anchored"><a href="#val-deep_copy" class="anchor"></a><code><span><span class="keyword">val</span> deep_copy : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>GrowArray.copy a f</code> returns a deep copy of <code>a</code> using f to copy elements of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>GrowArray.iter f a</code> applies function <code>f</code> in turn to all the elements of <code>a</code>. It is equivalent to <code>f a.(0); f a.(1); ...; f a.(GrowArray.length a - 1); ()</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-iter"><code>GrowArray.iter</code></a>, but the function is applied to the index of the element as first argument, and the element itself as second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter2" class="anchored"><a href="#val-iter2" class="anchor"></a><code><span><span class="keyword">val</span> iter2 : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-iteri"><code>GrowArray.iteri</code></a>, but the function is applied to two arrays. <code>iter2 f a b</code> is equivalent to <code>f 0 a.(0) b.(0); f 1 a.(1) b.(1); ...;  f n a.(n) b.(n); ()</code> where n is the larger of (max_init_index a) or (max_init_index b). The shorter array will grow to match the longer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>GrowArray.fold_left f x a</code> computes <code>f (... (f (f x a.(0)) a.(1)) ...) a.(n-1)</code>, where <code>n</code> is the length of the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_lefti" class="anchored"><a href="#val-fold_lefti" class="anchor"></a><code><span><span class="keyword">val</span> fold_lefti : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>GrowArray.fold_lefti f x a</code> computes <code>f (... (f (f x 0 a.(0)) 1 a.(1)) ...) (n-1) a.(n-1)</code>, where <code>n</code> is the length of the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span>( <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>GrowArray.fold_right f a x</code> computes <code>f a.(0) (f a.(1) ( ... (f a.(n-1) x) ...))</code>, where <code>n</code> is the length of the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_growarray" class="anchored"><a href="#val-d_growarray" class="anchor"></a><code><span><span class="keyword">val</span> d_growarray : 
  <span><a href="../Pretty/index.html#type-doc">Pretty.doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Pretty/index.html#type-doc">Pretty.doc</a></span></code></div><div class="spec-doc"><p><code>GrowArray.d_growarray sep f () a</code> creates a <a href="../Pretty/index.html#type-doc"><code>Pretty.doc</code></a> for growable array a using separator sep and element printer f.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-restoreGA" class="anchored"><a href="#val-restoreGA" class="anchor"></a><code><span><span class="keyword">val</span> restoreGA : <span>?deepCopy:<span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Given a growable array, produce a thunk that later restores it to its current value</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool )</span> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>Returns the index of the first element in the array that satisfies the predicate, or None if there is no such element</p></div></div></div></body></html>