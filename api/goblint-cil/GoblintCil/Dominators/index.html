<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dominators (goblint-cil.GoblintCil.Dominators)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">goblint-cil</a> &#x00BB; <a href="../index.html">GoblintCil</a> &#x00BB; Dominators</nav><header class="odoc-preamble"><h1>Module <code><span>GoblintCil.Dominators</span></code></h1><p>Compute dominators using data flow analysis</p></header><div class="odoc-content"><p>Author: George Necula 5/28/2004 *</p><div class="odoc-spec"><div class="spec value" id="val-computeIDom" class="anchored"><a href="#val-computeIDom" class="anchor"></a><code><span><span class="keyword">val</span> computeIDom : <span>?doCFG:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-fundec">Cil.fundec</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span> <a href="../Inthash/index.html#type-t">Inthash.t</a></span></span></code></div><div class="spec-doc"><p>Invoke on a code after filling in the CFG info and it computes the immediate dominator information. We map each statement to its immediate dominator (None for the start statement, and for the unreachable statements).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-tree" class="anchored"><a href="#type-tree" class="anchor"></a><code><span><span class="keyword">type</span> tree</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-computeDomTree" class="anchored"><a href="#val-computeDomTree" class="anchor"></a><code><span><span class="keyword">val</span> computeDomTree : 
  <span>?doCFG:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Cil/index.html#type-fundec">Cil.fundec</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span> <a href="../Inthash/index.html#type-t">Inthash.t</a></span> * <a href="#type-tree">tree</a></span></code></div><div class="spec-doc"><p>returns the IDoms and a map from statement ids to the set of statements that are dominated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-getIdom" class="anchored"><a href="#val-getIdom" class="anchor"></a><code><span><span class="keyword">val</span> getIdom : <span><span><span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span> <a href="../Inthash/index.html#type-t">Inthash.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span></span></code></div><div class="spec-doc"><p>This is like Inthash.find but gives an error if the information is Not_found</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dominates" class="anchored"><a href="#val-dominates" class="anchor"></a><code><span><span class="keyword">val</span> dominates : <span><span><span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span> <a href="../Inthash/index.html#type-t">Inthash.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check whether one statement dominates another.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-children" class="anchored"><a href="#val-children" class="anchor"></a><code><span><span class="keyword">val</span> children : <span><a href="#type-tree">tree</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> list</span></span></code></div><div class="spec-doc"><p>Return a list of statements dominated by the argument</p></div></div><div class="odoc-spec"><div class="spec type" id="type-order" class="anchored"><a href="#type-order" class="anchor"></a><code><span><span class="keyword">type</span> order</span><span> = </span></code><table><tr id="type-order.PreOrder" class="anchored"><td class="def variant constructor"><a href="#type-order.PreOrder" class="anchor"></a><code><span>| </span><span><span class="constructor">PreOrder</span></span></code></td></tr><tr id="type-order.PostOrder" class="anchored"><td class="def variant constructor"><a href="#type-order.PostOrder" class="anchor"></a><code><span>| </span><span><span class="constructor">PostOrder</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-domTreeIter" class="anchored"><a href="#val-domTreeIter" class="anchor"></a><code><span><span class="keyword">val</span> domTreeIter : <span><span>( <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-order">order</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-tree">tree</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterate over a dominator tree</p></div></div><div class="odoc-spec"><div class="spec value" id="val-findNaturalLoops" class="anchored"><a href="#val-findNaturalLoops" class="anchor"></a><code><span><span class="keyword">val</span> findNaturalLoops : 
  <span><a href="../Cil/index.html#type-fundec">Cil.fundec</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> option</span> <a href="../Inthash/index.html#type-t">Inthash.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Cil/index.html#type-stmt">Cil.stmt</a> * <span><a href="../Cil/index.html#type-stmt">Cil.stmt</a> list</span>)</span> list</span></span></code></div><div class="spec-doc"><p>Compute the start of the natural loops. This assumes that the &quot;idom&quot; field has been computed. For each start, keep a list of origin of a back edge. The loop consists of the loop start and all predecessors of the origins of back edges, up to and including the loop start</p></div></div></div></body></html>