<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Errormsg (goblint-cil.GoblintCil.Errormsg)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">goblint-cil</a> &#x00BB; <a href="../index.html">GoblintCil</a> &#x00BB; Errormsg</nav><header class="odoc-preamble"><h1>Module <code><span>GoblintCil.Errormsg</span></code></h1><p>Utility functions for error-reporting</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-logChannel" class="anchored"><a href="#val-logChannel" class="anchor"></a><code><span><span class="keyword">val</span> logChannel : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>A channel for printing log messages</p></div></div><div class="odoc-spec"><div class="spec value" id="val-debugFlag" class="anchored"><a href="#val-debugFlag" class="anchor"></a><code><span><span class="keyword">val</span> debugFlag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>If set then print debugging info</p></div></div><div class="odoc-spec"><div class="spec value" id="val-verboseFlag" class="anchored"><a href="#val-verboseFlag" class="anchor"></a><code><span><span class="keyword">val</span> verboseFlag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-colorFlag" class="anchored"><a href="#val-colorFlag" class="anchor"></a><code><span><span class="keyword">val</span> colorFlag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Set to true if you want error and warning messages to be colored</p></div></div><div class="odoc-spec"><div class="spec value" id="val-redEscStr" class="anchored"><a href="#val-redEscStr" class="anchor"></a><code><span><span class="keyword">val</span> redEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-greenEscStr" class="anchored"><a href="#val-greenEscStr" class="anchor"></a><code><span><span class="keyword">val</span> greenEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-yellowEscStr" class="anchored"><a href="#val-yellowEscStr" class="anchor"></a><code><span><span class="keyword">val</span> yellowEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-blueEscStr" class="anchored"><a href="#val-blueEscStr" class="anchor"></a><code><span><span class="keyword">val</span> blueEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-purpleEscStr" class="anchored"><a href="#val-purpleEscStr" class="anchor"></a><code><span><span class="keyword">val</span> purpleEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-cyanEscStr" class="anchored"><a href="#val-cyanEscStr" class="anchor"></a><code><span><span class="keyword">val</span> cyanEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-whiteEscStr" class="anchored"><a href="#val-whiteEscStr" class="anchor"></a><code><span><span class="keyword">val</span> whiteEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-resetEscStr" class="anchored"><a href="#val-resetEscStr" class="anchor"></a><code><span><span class="keyword">val</span> resetEscStr : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-warnFlag" class="anchored"><a href="#val-warnFlag" class="anchor"></a><code><span><span class="keyword">val</span> warnFlag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Set to true if you want to see all warnings.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Error" class="anchored"><a href="#exception-Error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Error</span></span></code></div><div class="spec-doc"><p>Error reporting functions raise this exception</p></div></div><div class="odoc-spec"><div class="spec value" id="val-error" class="anchored"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Prints an error message of the form <code>Error: ...</code>. Use in conjunction with s, for example: <code>E.s (E.error ... )</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bug" class="anchored"><a href="#val-bug" class="anchor"></a><code><span><span class="keyword">val</span> bug : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Similar to <code>error</code> except that its output has the form <code>Bug: ...</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-unimp" class="anchored"><a href="#val-unimp" class="anchor"></a><code><span><span class="keyword">val</span> unimp : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Similar to <code>error</code> except that its output has the form <code>Unimplemented: ...</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-s" class="anchored"><a href="#val-s" class="anchor"></a><code><span><span class="keyword">val</span> s : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>Stop the execution by raising an Error.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hadErrors" class="anchored"><a href="#val-hadErrors" class="anchor"></a><code><span><span class="keyword">val</span> hadErrors : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>This is set whenever one of the above error functions are called. It must be cleared manually</p></div></div><div class="odoc-spec"><div class="spec value" id="val-warn" class="anchored"><a href="#val-warn" class="anchor"></a><code><span><span class="keyword">val</span> warn : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-error"><code>Errormsg.error</code></a> but does not raise the <a href="#exception-Error"><code>Errormsg.Error</code></a> exception. Return type is unit.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-warnOpt" class="anchored"><a href="#val-warnOpt" class="anchor"></a><code><span><span class="keyword">val</span> warnOpt : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-warn"><code>Errormsg.warn</code></a> but optional. Printed only if the <a href="#val-warnFlag"><code>Errormsg.warnFlag</code></a> is set</p></div></div><div class="odoc-spec"><div class="spec value" id="val-log" class="anchored"><a href="#val-log" class="anchor"></a><code><span><span class="keyword">val</span> log : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Print something to <code>logChannel</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-logg" class="anchored"><a href="#val-logg" class="anchor"></a><code><span><span class="keyword">val</span> logg : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>same as <a href="#val-log"><code>Errormsg.log</code></a> but do not wrap lines</p></div></div><div class="odoc-spec"><div class="spec value" id="val-null" class="anchored"><a href="#val-null" class="anchor"></a><code><span><span class="keyword">val</span> null : <span><span><span>( <span class="type-var">'a</span>, unit, <a href="../Pretty/index.html#type-doc">Pretty.doc</a>, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Do not actually print (i.e. print to /dev/null)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pushContext" class="anchored"><a href="#val-pushContext" class="anchor"></a><code><span><span class="keyword">val</span> pushContext : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a> )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Registers a context printing function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-popContext" class="anchored"><a href="#val-popContext" class="anchor"></a><code><span><span class="keyword">val</span> popContext : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Removes the last registered context printing function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-showContext" class="anchored"><a href="#val-showContext" class="anchor"></a><code><span><span class="keyword">val</span> showContext : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Show the context stack to stderr</p></div></div><div class="odoc-spec"><div class="spec value" id="val-withContext" class="anchored"><a href="#val-withContext" class="anchor"></a><code><span><span class="keyword">val</span> withContext : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>To ensure that the context is registered and removed properly, use the function below</p></div></div><div class="odoc-spec"><div class="spec value" id="val-newline" class="anchored"><a href="#val-newline" class="anchor"></a><code><span><span class="keyword">val</span> newline : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-newHline" class="anchored"><a href="#val-newHline" class="anchor"></a><code><span><span class="keyword">val</span> newHline : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getPosition" class="anchored"><a href="#val-getPosition" class="anchor"></a><code><span><span class="keyword">val</span> getPosition : <span>unit <span class="arrow">&#45;&gt;</span></span> int * string * int * int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getHPosition" class="anchored"><a href="#val-getHPosition" class="anchor"></a><code><span><span class="keyword">val</span> getHPosition : <span>unit <span class="arrow">&#45;&gt;</span></span> int * string</span></code></div><div class="spec-doc"><p>high-level position</p></div></div><div class="odoc-spec"><div class="spec value" id="val-setHLine" class="anchored"><a href="#val-setHLine" class="anchor"></a><code><span><span class="keyword">val</span> setHLine : <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-setHFile" class="anchored"><a href="#val-setHFile" class="anchor"></a><code><span><span class="keyword">val</span> setHFile : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-transformLocation" class="anchored"><a href="#val-transformLocation" class="anchor"></a><code><span><span class="keyword">val</span> transformLocation : 
  <span><span>( <span>file:<span><span>(string * bool)</span> option</span> <span class="arrow">&#45;&gt;</span></span>
    <span>line:int <span class="arrow">&#45;&gt;</span></span>
    <span><span>(<span><span>(string * bool)</span> option</span> * int)</span> option</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-setCurrent" class="anchored"><a href="#val-setCurrent" class="anchor"></a><code><span><span class="keyword">val</span> setCurrent : <span>file:<span><span>(string * bool)</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span>line:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-location" class="anchored"><a href="#type-location" class="anchor"></a><code><span><span class="keyword">type</span> location</span><span> = </span><span>{</span></code><table><tr id="type-location.file" class="anchored"><td class="def record field"><a href="#type-location.file" class="anchor"></a><code><span>file : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The file name</p><span class="comment-delim">*)</span></td></tr><tr id="type-location.line" class="anchored"><td class="def record field"><a href="#type-location.line" class="anchor"></a><code><span>line : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The line number</p><span class="comment-delim">*)</span></td></tr><tr id="type-location.hfile" class="anchored"><td class="def record field"><a href="#type-location.hfile" class="anchor"></a><code><span>hfile : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The high-level file name, or &quot;&quot; if not present</p><span class="comment-delim">*)</span></td></tr><tr id="type-location.hline" class="anchored"><td class="def record field"><a href="#type-location.hline" class="anchor"></a><code><span>hline : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The high-level line number, or 0 if not present</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type for source-file locations</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_loc" class="anchored"><a href="#val-d_loc" class="anchor"></a><code><span><span class="keyword">val</span> d_loc : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-d_hloc" class="anchored"><a href="#val-d_hloc" class="anchor"></a><code><span><span class="keyword">val</span> d_hloc : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Pretty/index.html#type-doc">Pretty.doc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-getLocation" class="anchored"><a href="#val-getLocation" class="anchor"></a><code><span><span class="keyword">val</span> getLocation : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-location">location</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_error" class="anchored"><a href="#val-parse_error" class="anchor"></a><code><span><span class="keyword">val</span> parse_error : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-locUnknown" class="anchored"><a href="#val-locUnknown" class="anchor"></a><code><span><span class="keyword">val</span> locUnknown : <a href="#type-location">location</a></span></code></div><div class="spec-doc"><p>An unknown location for use when you need one but you don't have one</p></div></div><div class="odoc-spec"><div class="spec value" id="val-readingFromStdin" class="anchored"><a href="#val-readingFromStdin" class="anchor"></a><code><span><span class="keyword">val</span> readingFromStdin : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Records whether the stdin is open for reading the goal *</p></div></div><div class="odoc-spec"><div class="spec value" id="val-startParsing" class="anchored"><a href="#val-startParsing" class="anchor"></a><code><span><span class="keyword">val</span> startParsing : <span>?useBasename:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-startParsingFromString" class="anchored"><a href="#val-startParsingFromString" class="anchor"></a><code><span><span class="keyword">val</span> startParsingFromString : 
  <span>?file:string <span class="arrow">&#45;&gt;</span></span>
  <span>?line:int <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-finishParsing" class="anchored"><a href="#val-finishParsing" class="anchor"></a><code><span><span class="keyword">val</span> finishParsing : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>